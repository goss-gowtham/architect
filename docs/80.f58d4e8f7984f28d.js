"use strict";(self.webpackChunkarchitect=self.webpackChunkarchitect||[]).push([[80],{1080:(w,m,s)=>{s.r(m),s.d(m,{ClientsModule:()=>I});var h=s(177),z=s(9859),t=s(4438),f=s(4796),v=s(9322),p=s(2914),a=s(5664),C=s(513),y=s(6389),x=s(5930),T=s(1413),k=s(6977),d=s(6006),b=s(8203);const M=["*"];function _(e,c){if(1&e){const n=t.RV6();t.j41(0,"nz-icon",1),t.bIt("click",function(i){t.eBV(n);const r=t.XpG();return t.Njj(r.closeTag(i))}),t.k0s()}}let u=(()=>{class e{constructor(n,o,i,r){this.cdr=n,this.renderer=o,this.elementRef=i,this.directionality=r,this.isPresetColor=!1,this.nzMode="default",this.nzChecked=!1,this.nzBordered=!0,this.nzOnClose=new t.bkB,this.nzCheckedChange=new t.bkB,this.dir="ltr",this.destroy$=new T.B}updateCheckedStatus(){"checkable"===this.nzMode&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(n){this.nzOnClose.emit(n),n.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}clearPresetColor(){const n=this.elementRef.nativeElement,o=new RegExp(`(ant-tag-(?:${[...d.un,...d.PA].join("|")}))`,"g"),i=n.classList.toString(),r=[];let l=o.exec(i);for(;null!==l;)r.push(l[1]),l=o.exec(i);n.classList.remove(...r)}setPresetColor(){const n=this.elementRef.nativeElement;this.clearPresetColor(),this.isPresetColor=!!this.nzColor&&((0,d.nP)(this.nzColor)||(0,d.uP)(this.nzColor)),this.isPresetColor&&n.classList.add(`ant-tag-${this.nzColor}`)}ngOnInit(){this.directionality.change?.pipe((0,k.Q)(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(n){const{nzColor:o}=n;o&&this.setPresetColor()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(b.dS))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["nz-tag"]],hostAttrs:[1,"ant-tag"],hostVars:12,hostBindings:function(o,i){1&o&&t.bIt("click",function(){return i.updateCheckedStatus()}),2&o&&(t.xc7("background-color",i.isPresetColor?"":i.nzColor),t.AVh("ant-tag-has-color",i.nzColor&&!i.isPresetColor)("ant-tag-checkable","checkable"===i.nzMode)("ant-tag-checkable-checked",i.nzChecked)("ant-tag-rtl","rtl"===i.dir)("ant-tag-borderless",!i.nzBordered))},inputs:{nzMode:"nzMode",nzColor:"nzColor",nzChecked:[2,"nzChecked","nzChecked",t.L39],nzBordered:[2,"nzBordered","nzBordered",t.L39]},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],features:[t.GFd,t.OA$],ngContentSelectors:M,decls:2,vars:1,consts:[["nzType","close","tabindex","-1",1,"ant-tag-close-icon"],["nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(o,i){1&o&&(t.NAR(),t.SdG(0),t.DNE(1,_,1,0,"nz-icon",0)),2&o&&(t.R7$(),t.vxM("closeable"===i.nzMode?1:-1))},dependencies:[a.Y3,a.Dn],encapsulation:2,changeDetection:0})}}return e})(),$=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[u]})}}return e})();var g=s(7529);const j=()=>[48,24],G=e=>[e];function S(e,c){if(1&e&&t.nrm(0,"img",12),2&e){const n=t.XpG(2).$implicit;t.Y8G("alt",n.project)("src",null==n?null:n.thumbnail,t.B4B)}}function R(e,c){1&e&&t.nrm(0,"div",13)}function E(e,c){if(1&e&&(t.j41(0,"nz-tag",14),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.JRh(n.username)}}function D(e,c){if(1&e&&(t.j41(0,"div",8),t.DNE(1,S,1,2,"img",9)(2,R,1,0,"ng-template",null,2,t.C5r),t.j41(4,"nz-tag",10),t.EFF(5),t.k0s(),t.DNE(6,E,2,1,"nz-tag",11),t.k0s()),2&e){const n=t.sdS(3),o=t.XpG().$implicit,i=t.XpG();t.R7$(),t.Y8G("ngIf",null==o?null:o.thumbnail)("ngIfElse",n),t.R7$(4),t.SpI("INR ",o.pay,""),t.R7$(),t.Y8G("ngIf",i.isAdminOrMaster)}}function F(e,c){if(1&e){const n=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(n);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.downloadFile(i.file))}),t.nrm(1,"nz-icon",16),t.EFF(2,"Download"),t.k0s()}}function B(e,c){if(1&e&&(t.j41(0,"div",5)(1,"nz-card",6),t.nrm(2,"nz-card-meta",7),t.k0s(),t.DNE(3,D,7,4,"ng-template",null,0,t.C5r)(5,F,3,0,"ng-template",null,1,t.C5r),t.k0s()),2&e){const n=c.$implicit,o=t.sdS(4),i=t.sdS(6);t.R7$(),t.Y8G("nzCover",o)("nzActions",t.eq3(4,G,i)),t.R7$(),t.Y8G("nzTitle",n.project)("nzDescription",n.desc)}}const N=[{path:"",component:(()=>{class e{authService;dbService;cards=[];clientLogo="";isAdminOrMaster=!1;constructor(n,o){this.authService=n,this.dbService=o}ngOnInit(){const n=this.authService.currentUserValue;n&&(this.isAdminOrMaster=n.roles.includes("admin")||n.roles.includes("master"),this.dbService.getClientLogo(n.client).subscribe(o=>{this.clientLogo=o,this.dbService.getUsers(n.client).subscribe(i=>{i&&(this.cards=i.flatMap(r=>r.projects.map(l=>({...l,thumbnail:this.clientLogo,username:r.username}))))},i=>{console.error("Error fetching user projects:",i)})},o=>{console.error("Error fetching client logo:",o)}))}downloadFile(n){const o=document.createElement("a");o.href=n,o.download=n.split("/").pop()||"download",o.click()}static \u0275fac=function(o){return new(o||e)(t.rXU(f.u),t.rXU(v.a))};static \u0275cmp=t.VBU({type:e,selectors:[["app-clients"]],standalone:!1,decls:2,vars:3,consts:[["coverTemplate",""],["payDownload",""],["placeholder",""],["nz-row","",3,"nzGutter"],["nz-col","24","nzXs","24","nzSm","24","nzMd","12","nzLg","6","nzXl","6",4,"ngFor","ngForOf"],["nz-col","24","nzXs","24","nzSm","24","nzMd","12","nzLg","6","nzXl","6"],[1,"card-shadow",2,"width","280px","height","320px",3,"nzCover","nzActions"],[3,"nzTitle","nzDescription"],[2,"position","relative"],["width","280px","style","min-height:150px",3,"alt","src",4,"ngIf","ngIfElse"],["nzColor","success",2,"position","absolute","top","5px","right","0px"],["nzColor","processing","style","position: absolute; bottom: 5px; right: 0px;",4,"ngIf"],["width","280px",2,"min-height","150px",3,"alt","src"],[2,"width","280px","height","170px","background-color","#f0f0f0"],["nzColor","processing",2,"position","absolute","bottom","5px","right","0px"],["nz-button","","nzType","default","nzShape","round",3,"click"],["nzType","credit-card"]],template:function(o,i){1&o&&(t.j41(0,"div",3),t.DNE(1,B,7,6,"div",4),t.k0s()),2&o&&(t.Y8G("nzGutter",t.lJ4(2,j)),t.R7$(),t.Y8G("ngForOf",i.cards))},dependencies:[h.Sq,h.bT,p.cK,p.ls,a.Dn,C.aO,y.c,x.p,u,g.Uq,g.e],styles:[".no-projects-message[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;text-align:center;padding:20px}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a,0 6px 10px #0000001a}"]})}return e})()}];let O=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[z.iI.forChild(N),z.iI]})}return e})();var X=s(9692),P=s(1672);let I=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[h.MD,O,p.Ti,a.Y3,C.Zw,$,g.f3,X.y,P._v]})}return e})()}}]);