"use strict";(self.webpackChunkarchitect=self.webpackChunkarchitect||[]).push([[233],{7661:(ot,H,m)=>{m.d(H,{Y:()=>M});var M=function(r){return r.master="master",r.admin="admin",r.user="user",r}(M||{})},820:(ot,H,m)=>{m.d(H,{a:()=>C});var M=m(5891),r=m(9853),I=m(6648),P=m(4438),i=m(2457);let C=(()=>{class F{firebaseService;database;storage;constructor(O){this.firebaseService=O,this.database=this.firebaseService.getDatabase(),this.storage=this.firebaseService.getStorage()}getData(O){const T=(0,M.KR)(this.database,O);return(0,I.H)((0,M.Jt)(T).then(b=>b.exists()?b.val():(console.log("No data available"),null)).catch(b=>{throw console.error("Error getting data:",b),b}))}setData(O,T){const b=(0,M.KR)(this.database,O);return(0,I.H)((0,M.hZ)(b,T).catch(y=>{throw console.error("Error setting data:",y),y}))}getClients(){return this.getData("clients")}addClient(O,T){const b=(0,M.KR)(this.database,"clients/"+O);return(0,I.H)((0,M.hZ)(b,{name:O,logo:T}).catch(y=>{throw console.error("Error adding client:",y),y}))}uploadFile(O,T){const b=(0,r.KR)(this.storage,T);return(0,I.H)((0,r.D)(b,O).then(()=>(0,r.qk)(b)).catch(y=>{throw console.error("Error uploading file:",y),y}))}getClientLogo(O){const T=(0,M.KR)(this.database,"clients/"+O+"/logo");return(0,I.H)((0,M.Jt)(T).then(b=>b.exists()?b.val():(console.log("No logo available"),"")).catch(b=>{throw console.error("Error getting client logo:",b),b}))}static \u0275fac=function(T){return new(T||F)(P.KVO(i.f))};static \u0275prov=P.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},3719:(ot,H,m)=>{m.d(H,{T:()=>F});var M=m(5891),r=m(9853),I=m(6648),P=m(1626),i=m(4438),C=m(2457);let F=(()=>{class k{firebaseService;http;database;storage;constructor(T,b){this.firebaseService=T,this.http=b,this.database=this.firebaseService.getDatabase(),this.storage=this.firebaseService.getStorage()}addProjectToUser(T,b){const y=(0,M.KR)(this.database,`users/${T}/projects`);return(0,I.H)((0,M.Jt)(y).then(D=>{const S=D.exists()?D.val():[];return S.push({...b,projectId:b.projectId,paid:b.paid||!1}),(0,M.yo)((0,M.KR)(this.database,`users/${T}`),{projects:S})}).catch(D=>{throw console.error("Error adding project to user:",D),D}))}deleteProject(T,b){if(!T)throw new Error("User ID cannot be null");const y=(0,M.KR)(this.database,`users/${T}/projects`);return(0,I.H)((0,M.Jt)(y).then(D=>{if(D.exists()){const S=D.val(),L=S.find(N=>N.projectId===b);if(L){const N=(0,r.KR)(this.storage,L.file);return(0,r.XR)(N).then(()=>{const U=S.filter(Q=>Q.projectId!==b);return(0,M.yo)((0,M.KR)(this.database,`users/${T}`),{projects:U})})}throw new Error("Project not found")}throw new Error("No projects found for the user")}).then(()=>{console.log("Project and associated file deleted successfully")}).catch(D=>{throw console.error("Error deleting project:",D),D}))}updateProject(T,b){if(!T)throw new Error("User ID cannot be null");const y=(0,M.KR)(this.database,`users/${T}/projects`);return(0,I.H)((0,M.Jt)(y).then(D=>{if(D.exists()){const L=D.val().map(N=>N.projectId===b.projectId?b:N);return(0,M.yo)((0,M.KR)(this.database,`users/${T}`),{projects:L})}throw new Error("No projects found for the user")}).catch(D=>{throw console.error("Error updating project:",D),D}))}updateProjectPaymentStatus(T,b,y){if(!T)throw new Error("User ID cannot be null");const D=(0,M.KR)(this.database,`users/${T}/projects`);return(0,I.H)((0,M.Jt)(D).then(S=>{if(S.exists()){const N=S.val().map(U=>U.projectId===b?{...U,paid:y}:U);return(0,M.yo)((0,M.KR)(this.database,`users/${T}`),{projects:N})}throw new Error("No projects found for the user")}).catch(S=>{throw console.error("Error updating project payment status:",S),S}))}downloadFile(T){const b=new P.Lr({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"Content-Type"});return this.http.get(T,{headers:b,responseType:"blob"})}static \u0275fac=function(b){return new(b||k)(i.KVO(C.f),i.KVO(P.Qq))};static \u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},1672:(ot,H,m)=>{m.d(H,{E8:()=>nt,_v:()=>rt});var M=m(6939),r=m(4438),I=m(1413),P=m(6977),i=m(9172),C=m(7806),F=m(1377),k=m(6042);function O(f,w){if(1&f&&(r.qex(0),r.nrm(1,"img",4),r.bVm()),2&f){const _=r.XpG(2);r.R7$(),r.Y8G("src",_.nzNotFoundImage,r.B4B)("alt",_.isContentString?_.nzNotFoundContent:"empty")}}function T(f,w){if(1&f&&r.DNE(0,O,2,2,"ng-container",3),2&f){const _=r.XpG();r.Y8G("nzStringTemplateOutlet",_.nzNotFoundImage)}}function b(f,w){1&f&&r.nrm(0,"nz-empty-simple")}function y(f,w){1&f&&r.nrm(0,"nz-empty-default")}function D(f,w){if(1&f&&r.DNE(0,b,1,0,"nz-empty-simple")(1,y,1,0,"nz-empty-default"),2&f){const _=r.XpG();r.vxM("simple"===_.nzNotFoundImage?0:1)}}function S(f,w){if(1&f&&(r.qex(0),r.EFF(1),r.bVm()),2&f){const _=r.XpG(2);r.R7$(),r.SpI(" ",_.isContentString?_.nzNotFoundContent:_.locale.description," ")}}function L(f,w){if(1&f&&(r.j41(0,"p",1),r.DNE(1,S,2,1,"ng-container",3),r.k0s()),2&f){const _=r.XpG();r.R7$(),r.Y8G("nzStringTemplateOutlet",_.nzNotFoundContent)}}function N(f,w){if(1&f&&(r.qex(0),r.EFF(1),r.bVm()),2&f){const _=r.XpG(2);r.R7$(),r.SpI(" ",_.nzNotFoundFooter," ")}}function U(f,w){if(1&f&&(r.j41(0,"div",2),r.DNE(1,N,2,1,"ng-container",3),r.k0s()),2&f){const _=r.XpG();r.R7$(),r.Y8G("nzStringTemplateOutlet",_.nzNotFoundFooter)}}function Q(f,w){if(1&f&&r.EFF(0),2&f){const _=r.XpG(2);r.SpI(" ",_.content," ")}}function lt(f,w){}function dt(f,w){if(1&f&&r.DNE(0,lt,0,0,"ng-template",0),2&f){const _=r.XpG(2);r.Y8G("cdkPortalOutlet",_.contentPortal)}}function A(f,w){if(1&f&&r.DNE(0,Q,1,1)(1,dt,1,1,null,0),2&f){const _=r.XpG();r.vxM("string"===_.contentType?0:1)}}function st(f,w){1&f&&r.nrm(0,"nz-empty",1)}function Bt(f,w){1&f&&r.nrm(0,"nz-empty",2)}function jt(f,w){1&f&&r.nrm(0,"nz-empty")}function Gt(f,w){if(1&f&&r.DNE(0,st,1,0,"nz-empty",1)(1,Bt,1,0,"nz-empty",2)(2,jt,1,0,"nz-empty"),2&f){let _;const R=r.XpG(2);r.vxM("normal"===(_=R.size)?0:"small"===_?1:2)}}function Vt(f,w){if(1&f&&r.DNE(0,Gt,3,1),2&f){const _=r.XpG();r.vxM(null!==_.specificContent?0:-1)}}const ht=new r.nKC("nz-empty-component-name");let j=(()=>{class f{static{this.\u0275fac=function(R){return new(R||f)}}static{this.\u0275cmp=r.VBU({type:f,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(R,B){1&R&&(r.qSk(),r.j41(0,"svg",0)(1,"g",1)(2,"g",2),r.nrm(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),r.k0s(),r.nrm(8,"path",8),r.j41(9,"g",9),r.nrm(10,"ellipse",10)(11,"path",11),r.k0s()()())},encapsulation:2,changeDetection:0})}}return f})(),Z=(()=>{class f{static{this.\u0275fac=function(R){return new(R||f)}}static{this.\u0275cmp=r.VBU({type:f,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(R,B){1&R&&(r.qSk(),r.j41(0,"svg",0)(1,"g",1),r.nrm(2,"ellipse",2),r.j41(3,"g",3),r.nrm(4,"path",4)(5,"path",5),r.k0s()()())},encapsulation:2,changeDetection:0})}}return f})();const tt=["default","simple"];let et=(()=>{class f{constructor(_,R){this.i18n=_,this.cdr=R,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new I.B}ngOnChanges(_){const{nzNotFoundContent:R,nzNotFoundImage:B}=_;if(R&&(this.isContentString="string"==typeof R.currentValue),B){const Y=B.currentValue||"default";this.isImageBuildIn=tt.findIndex(gt=>gt===Y)>-1}}ngOnInit(){this.i18n.localeChange.pipe((0,P.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(R){return new(R||f)(r.rXU(F.Og),r.rXU(r.gRc))}}static{this.\u0275cmp=r.VBU({type:f,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[r.OA$],decls:5,vars:3,consts:[[1,"ant-empty-image"],[1,"ant-empty-description"],[1,"ant-empty-footer"],[4,"nzStringTemplateOutlet"],[3,"src","alt"]],template:function(R,B){1&R&&(r.j41(0,"div",0),r.DNE(1,T,1,1,"ng-container")(2,D,2,1),r.k0s(),r.DNE(3,L,2,1,"p",1)(4,U,2,1,"div",2)),2&R&&(r.R7$(),r.vxM(B.isImageBuildIn?2:1),r.R7$(2),r.vxM(null!==B.nzNotFoundContent?3:-1),r.R7$(),r.vxM(B.nzNotFoundFooter?4:-1))},dependencies:[C.C,C.m,j,Z],encapsulation:2,changeDetection:0})}}return f})(),nt=(()=>{class f{constructor(_,R,B,Y){this.configService=_,this.viewContainerRef=R,this.cdr=B,this.injector=Y,this.contentType="string",this.size="",this.destroy$=new I.B}ngOnChanges(_){_.nzComponentName&&(this.size=function pt(f){switch(f){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(_.nzComponentName.currentValue)),_.specificContent&&!_.specificContent.isFirstChange()&&(this.content=_.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const _=this.content;if("string"==typeof _)this.contentType="string";else if(_ instanceof r.C4Q){const R={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new M.VA(_,this.viewContainerRef,R)}else if(_ instanceof r.ZUJ){const R=r.zZn.create({parent:this.injector,providers:[{provide:ht,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new M.A8(_,this.viewContainerRef,R)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe((0,i.Z)(!0),(0,P.Q)(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}static{this.\u0275fac=function(R){return new(R||f)(r.rXU(k.yx),r.rXU(r.c1b),r.rXU(r.gRc),r.rXU(r.zZn))}}static{this.\u0275cmp=r.VBU({type:f,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[r.OA$],decls:2,vars:1,consts:[[3,"cdkPortalOutlet"],["nzNotFoundImage","simple",1,"ant-empty-normal"],["nzNotFoundImage","simple",1,"ant-empty-small"]],template:function(R,B){1&R&&r.DNE(0,A,2,1)(1,Vt,1,1),2&R&&r.vxM(B.content?0:1)},dependencies:[et,M.jc,M.I3],encapsulation:2,changeDetection:0})}}return f})(),rt=(()=>{class f{static{this.\u0275fac=function(R){return new(R||f)}}static{this.\u0275mod=r.$C({type:f})}static{this.\u0275inj=r.G2t({imports:[et,nt]})}}return f})()},3390:(ot,H,m)=>{m.d(H,{F2:()=>En,A9:()=>Pe,U6:()=>Mn,J9:()=>yt,N_:()=>te});var M=m(467),r=m(494),I=m(6969),P=m(6939),i=m(4438),C=m(1413),F=m(9030),k=m(6977),O=m(5964),T=m(6697),b=m(9172),y=m(1265),D=m(5463),S=m(317),L=m(513),N=m(7806),U=m(1377),Q=m(5664);m(345);class A{static{this.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}}}transform(n,t=0,e="B",o){if(!((0,S.BV)(n)&&(0,S.BV)(t)&&t%1==0&&t>=0))return n;let a=n,c=e;for(;"B"!==c;)a*=1024,c=A.formats[c].prev;if(o){const u=(0,S.nI)(A.calculateResult(A.formats[o],a),t);return A.formatResult(u,o)}for(const d in A.formats)if(A.formats.hasOwnProperty(d)){const u=A.formats[d];if(a<u.max){const z=(0,S.nI)(A.calculateResult(u,a),t);return A.formatResult(z,d)}}}static formatResult(n,t){return`${n} ${t}`}static calculateResult(n,t){const e=n.prev?A.formats[n.prev]:void 0;return e?t/e.max:t}static{this.\u0275fac=function(t){return new(t||A)}}static{this.\u0275pipe=i.EJ8({name:"nzBytes",type:A,pure:!0})}}let st=(()=>{class s{transform(t,e="px"){return"number"==typeof t?`${t}${e}`:t}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275pipe=i.EJ8({name:"nzToCssUnit",type:s,pure:!0})}}return s})(),ht=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=i.$C({type:s})}static{this.\u0275inj=i.G2t({})}}return s})();var j=m(9969),Z=m(1225),tt=m(177),et=m(6042),pt=m(4500),nt=m(6389),rt=m(5930),f=m(4085),w=m(6860),_=m(8359),R=m(3236),B=m(1584),gt=m(536),Tt=m(1985),mt=m(7786),$t=m(4412),Ht=m(6354),Xt=m(8141),Wt=m(5558),Ut=m(9046),ft=m(8203);function Et(s){const n=s.cloneNode(!0),t=n.querySelectorAll("[id]"),e=s.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===e?Rt(s,n):("input"===e||"select"===e||"textarea"===e)&&St(s,n),Mt("canvas",s,n,Rt),Mt("input, textarea, select",s,n,St),n}function Mt(s,n,t,e){const o=n.querySelectorAll(s);if(o.length){const a=t.querySelectorAll(s);for(let c=0;c<o.length;c++)e(o[c],a[c])}}let Kt=0;function St(s,n){"file"!==n.type&&(n.value=s.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${Kt++}`)}function Rt(s,n){const t=n.getContext("2d");if(t)try{t.drawImage(s,0,0)}catch{}}function J(s){const n=s.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function ut(s,n,t){const{top:e,bottom:o,left:a,right:c}=s;return t>=e&&t<=o&&n>=a&&n<=c}function it(s,n,t){s.top+=n,s.bottom=s.top+s.height,s.left+=t,s.right=s.left+s.width}function Qt(s,n,t,e){const{top:o,right:a,bottom:c,left:d,width:u,height:z}=s,x=u*n,V=z*n;return e>o-V&&e<c+V&&t>d-x&&t<a+x}class wt{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:J(t)})})}handleScroll(n){const t=(0,w.Fb)(n),e=this.positions.get(t);if(!e)return null;const o=e.scrollPosition;let a,c;if(t===this._document){const z=this.getViewportScrollPosition();a=z.top,c=z.left}else a=t.scrollTop,c=t.scrollLeft;const d=o.top-a,u=o.left-c;return this.positions.forEach((z,x)=>{z.clientRect&&t!==x&&t.contains(x)&&it(z.clientRect,d,u)}),o.top=a,o.left=c,{top:d,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function xt(s,n){const t=s.rootNodes;if(1===t.length&&t[0].nodeType===n.ELEMENT_NODE)return t[0];const e=n.createElement("div");return t.forEach(o=>e.appendChild(o)),e}function Nt(s,n,t){for(let e in n)if(n.hasOwnProperty(e)){const o=n[e];o?s.setProperty(e,o,t?.has(e)?"important":""):s.removeProperty(e)}return s}function h(s,n){const t=n?"":"none";Nt(s.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function v(s,n,t){Nt(s.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function l(s,n){return n&&"none"!=n?s+" "+n:s}function p(s,n){s.style.width=`${n.width}px`,s.style.height=`${n.height}px`,s.style.transform=g(n.left,n.top)}function g(s,n){return`translate3d(${Math.round(s)}px, ${Math.round(n)}px, 0)`}function E(s){const n=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*n}function Zt(s,n){return s.getPropertyValue(n).split(",").map(e=>e.trim())}const ke=new Set(["position"]);class Oe{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,t,e,o,a,c,d,u,z,x){this._document=n,this._rootElement=t,this._direction=e,this._initialDomRect=o,this._previewTemplate=a,this._previewClass=c,this._pickupPositionOnPage=d,this._initialTransform=u,this._zIndex=z,this._renderer=x}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),oe(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return function X(s){const n=getComputedStyle(s),t=Zt(n,"transition-property"),e=t.find(d=>"transform"===d||"all"===d);if(!e)return 0;const o=t.indexOf(e),a=Zt(n,"transition-duration"),c=Zt(n,"transition-delay");return E(a[o])+E(c[o])}(this._preview)}addEventListener(n,t){return this._renderer.listen(this._preview,n,t)}_createPreview(){const n=this._previewTemplate,t=this._previewClass,e=n?n.template:null;let o;if(e&&n){const a=n.matchSize?this._initialDomRect:null,c=n.viewContainer.createEmbeddedView(e,n.context);c.detectChanges(),o=xt(c,this._document),this._previewEmbeddedView=c,n.matchSize?p(o,a):o.style.transform=g(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=Et(this._rootElement),p(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Nt(o.style,{"pointer-events":"none",margin:oe(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},ke),h(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>o.classList.add(a)):o.classList.add(t)),o}}function oe(s){return"showPopover"in s}const se=(0,w.BQ)({passive:!0}),It=(0,w.BQ)({passive:!1}),re=(0,w.BQ)({passive:!1,capture:!0}),ae=new Set(["position"]);class Le{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,i.vPA)(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new C.B;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=_.yU.EMPTY;_pointerUpSubscription=_.yU.EMPTY;_scrollSubscription=_.yU.EMPTY;_resizeSubscription=_.yU.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(t=>h(t,n)))}_disabled=!1;beforeStarted=new C.B;started=new C.B;released=new C.B;ended=new C.B;entered=new C.B;exited=new C.B;dropped=new C.B;moved=this._moveEvents;data;constrainPosition;constructor(n,t,e,o,a,c,d){this._config=t,this._document=e,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=c,this._renderer=d,this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new wt(e),c.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(e=>(0,f.i8)(e)),this._handles.forEach(e=>h(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const t=(0,f.i8)(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,It),t.addEventListener("touchstart",this._pointerDown,se),t.addEventListener("dragstart",this._nativeDragStart,It)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?(0,f.i8)(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),h(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),h(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",le,re)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){const t=this._getTargetHandle(n);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{const t=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const d=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),u=this._dropContainer;if(!d)return void this._endDragSequence(n);(!u||!u.isDragging()&&!u.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();const e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e,t);else{const o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,a=this._activeTransform;a.x=e.x-o.x+this._passiveTransform.x,a.y=e.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(a.x,a.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:n,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){_t(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),e=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",le,re)}),e){const o=this._rootElement,a=o.parentNode,c=this._placeholder=this._createPlaceholderElement(),d=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(d,o),this._initialTransform=o.style.transform||"",this._preview=new Oe(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(a,t)),v(o,!1,ae),this._document.body.appendChild(a.replaceChild(c,o)),this.started.next({source:this,event:n}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();const e=this.isDragging(),o=_t(t),a=!o&&0!==t.button,c=this._rootElement,d=(0,w.Fb)(t),u=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),z=o?(0,Z.w6)(t):(0,Z._G)(t);if(d&&d.draggable&&"mousedown"===t.type&&t.preventDefault(),e||a||u||z)return;if(this._handles.length){const K=c.style;this._rootElementTapHighlight=K.webkitTapHighlightColor||"",K.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(K=>this._updateOnScroll(K)),this._boundaryElement&&(this._boundaryRect=J(this._boundaryElement));const x=this._previewTemplate;this._pickupPositionInElement=x&&x.template&&!x.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,t);const V=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:V.x,y:V.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){v(this._rootElement,!0,ae),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,e=t.getItemIndex(this),o=this._getPointerPositionOnPage(n),a=this._getDragDistance(o),c=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:a,dropPoint:o,event:n}),t.drop(this,e,this._initialIndex,this._initialContainer,c,a,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:e,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,n,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,o),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,t):this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const o=d=>{(!d||this._preview&&(0,w.Fb)(d)===this._preview.element&&"transform"===d.propertyName)&&(c(),e(),clearTimeout(a))},a=setTimeout(o,1.5*t),c=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,t=n?n.template:null;let e;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),e=xt(this._placeholderRef,this._document)):e=Et(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(n,t,e){const o=t===this._rootElement?null:t,a=o?o.getBoundingClientRect():n,c=_t(e)?e.targetTouches[0]:e,d=this._getViewportScrollPosition();return{x:a.left-n.left+(c.pageX-a.left-d.left),y:a.top-n.top+(c.pageY-a.top-d.top)}}_getPointerPositionOnPage(n){const t=this._getViewportScrollPosition(),e=_t(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=e.pageX-t.left,a=e.pageY-t.top;if(this._ownerSVGElement){const c=this._ownerSVGElement.getScreenCTM();if(c){const d=this._ownerSVGElement.createSVGPoint();return d.x=o,d.y=a,d.matrixTransform(c.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(n){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:e,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if("x"===this.lockAxis||"x"===t?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:a,y:c}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,d=this._boundaryRect,{width:u,height:z}=this._getPreviewRect(),x=d.top+c,V=d.bottom-(z-c);e=ce(e,d.left+a,d.right-(u-a)),o=ce(o,x,V)}return{x:e,y:o}}_updatePointerDirectionDelta(n){const{x:t,y:e}=n,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,c=Math.abs(t-a.x),d=Math.abs(e-a.y);return c>this._config.pointerDirectionChangeThreshold&&(o.x=t>a.x?1:-1,a.x=t),d>this._config.pointerDirectionChangeThreshold&&(o.y=e>a.y?1:-1,a.y=e),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,h(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,It),n.removeEventListener("touchstart",this._pointerDown,se),n.removeEventListener("dragstart",this._nativeDragStart,It)}_applyRootElementTransform(n,t){const e=1/this.scale,o=g(n*e,t*e),a=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=a.transform&&"none"!=a.transform?a.transform:""),a.transform=l(o,this._initialTransform)}_applyPreviewTransform(n,t){const e=this._previewTemplate?.template?void 0:this._initialTransform,o=g(n,t);this._preview.setTransform(l(o,e))}_getDragDistance(n){const t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(0===n&&0===t||this.isDragging()||!this._boundaryElement)return;const e=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===e.width&&0===e.height)return;const a=o.left-e.left,c=e.right-o.right,d=o.top-e.top,u=e.bottom-o.bottom;o.width>e.width?(a>0&&(n+=a),c>0&&(n-=c)):n=0,o.height>e.height?(d>0&&(t+=d),u>0&&(t-=u)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){const t=this.dragStartDelay;return"number"==typeof t?t:_t(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){const t=this._parentPositions.handleScroll(n);if(t){const e=(0,w.Fb)(n);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&it(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,w.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){const e=this._previewContainer||"global";if("parent"===e)return n;if("global"===e){const o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return(0,f.i8)(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){const t=this._getTargetHandle(n);t&&!this._disabledHandles.has(t)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(t=>n.target&&(n.target===t||t.contains(n.target)))}}function ce(s,n,t){return Math.max(n,Math.min(t,s))}function _t(s){return"t"===s.type[0]}function le(s){s.preventDefault()}function de(s,n,t){const e=Ct(n,s.length-1),o=Ct(t,s.length-1);if(e===o)return;const a=s[e],c=o<e?-1:1;for(let d=e;d!==o;d+=c)s[d]=s[d+c];s[o]=a}function Ct(s,n){return Math.max(0,Math.min(n,s))}class he{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,t,e,o){const a=this._itemPositions,c=this._getItemIndexFromPointerPosition(n,t,e,o);if(-1===c&&a.length>0)return null;const d="horizontal"===this.orientation,u=a.findIndex($=>$.drag===n),z=a[c],V=z.clientRect,K=u>c?1:-1,Dt=this._getItemOffsetPx(a[u].clientRect,V,K),ee=this._getSiblingOffsetPx(u,a,K),ne=a.slice();return de(a,u,c),a.forEach(($,ie)=>{if(ne[ie]===$)return;const Ft=$.drag===n,bt=Ft?Dt:ee,Lt=Ft?n.getPlaceholderElement():$.drag.getRootElement();$.offset+=bt;const At=Math.round($.offset*(1/$.drag.scale));d?(Lt.style.transform=l(`translate3d(${At}px, 0, 0)`,$.initialTransform),it($.clientRect,0,bt)):(Lt.style.transform=l(`translate3d(0, ${At}px, 0)`,$.initialTransform),it($.clientRect,bt,0))}),this._previousSwap.overlaps=ut(V,t,e),this._previousSwap.drag=z.drag,this._previousSwap.delta=d?o.x:o.y,{previousIndex:u,currentIndex:c}}enter(n,t,e,o){const a=null==o||o<0?this._getItemIndexFromPointerPosition(n,t,e):o,c=this._activeDraggables,d=c.indexOf(n),u=n.getPlaceholderElement();let z=c[a];if(z===n&&(z=c[a+1]),!z&&(null==a||-1===a||a<c.length-1)&&this._shouldEnterAsFirstChild(t,e)&&(z=c[0]),d>-1&&c.splice(d,1),z&&!this._dragDropRegistry.isDragging(z)){const x=z.getRootElement();x.parentElement.insertBefore(u,x),c.splice(a,0,n)}else this._element.appendChild(u),c.push(n);u.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{const t=n.getRootElement();if(t){const e=this._itemPositions.find(o=>o.drag===n)?.initialTransform;t.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===n)}updateOnScroll(n,t){this._itemPositions.forEach(({clientRect:e})=>{it(e,n,t)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:J(e)}}).sort((t,e)=>n?t.clientRect.left-e.clientRect.left:t.clientRect.top-e.clientRect.top)}_getItemOffsetPx(n,t,e){const o="horizontal"===this.orientation;let a=o?t.left-n.left:t.top-n.top;return-1===e&&(a+=o?t.width-n.width:t.height-n.height),a}_getSiblingOffsetPx(n,t,e){const o="horizontal"===this.orientation,a=t[n].clientRect,c=t[n+-1*e];let d=a[o?"width":"height"]*e;if(c){const u=o?"left":"top",z=o?"right":"bottom";-1===e?d-=c.clientRect[u]-a[z]:d+=a[u]-c.clientRect[z]}return d}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;const e=this._itemPositions,o="horizontal"===this.orientation;if(e[0].drag!==this._activeDraggables[0]){const c=e[e.length-1].clientRect;return o?n>=c.right:t>=c.bottom}{const c=e[0].clientRect;return o?n<=c.left:t<=c.top}}_getItemIndexFromPointerPosition(n,t,e,o){const a="horizontal"===this.orientation,c=this._itemPositions.findIndex(({drag:d,clientRect:u})=>d!==n&&((!o||d!==this._previousSwap.drag||!this._previousSwap.overlaps||(a?o.x:o.y)!==this._previousSwap.delta)&&(a?t>=Math.floor(u.left)&&t<Math.floor(u.right):e>=Math.floor(u.top)&&e<Math.floor(u.bottom))));return-1!==c&&this._sortPredicate(c,n)?c:-1}}class Ae{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,t){this._document=n,this._dragDropRegistry=t}start(n){const t=this._element.childNodes;this._relatedNodes=[];for(let e=0;e<t.length;e++){const o=t[e];this._relatedNodes.push([o,o.nextSibling])}this.withItems(n)}sort(n,t,e,o){const a=this._getItemIndexFromPointerPosition(n,t,e),c=this._previousSwap;if(-1===a||this._activeItems[a]===n)return null;const d=this._activeItems[a];if(c.drag===d&&c.overlaps&&c.deltaX===o.x&&c.deltaY===o.y)return null;const u=this.getItemIndex(n),z=n.getPlaceholderElement(),x=d.getRootElement();a>u?x.after(z):x.before(z),de(this._activeItems,u,a);const V=this._getRootNode().elementFromPoint(t,e);return c.deltaX=o.x,c.deltaY=o.y,c.drag=d,c.overlaps=x===V||x.contains(V),{previousIndex:u,currentIndex:a}}enter(n,t,e,o){let a=null==o||o<0?this._getItemIndexFromPointerPosition(n,t,e):o;-1===a&&(a=this._getClosestItemIndexToPointer(n,t,e));const c=this._activeItems[a],d=this._activeItems.indexOf(n);d>-1&&this._activeItems.splice(d,1),c&&!this._dragDropRegistry.isDragging(c)?(this._activeItems.splice(a,0,n),c.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){const n=this._element,t=this._previousSwap;for(let e=this._relatedNodes.length-1;e>-1;e--){const[o,a]=this._relatedNodes[e];o.parentNode===n&&o.nextSibling!==a&&(null===a?n.appendChild(o):a.parentNode===n&&n.insertBefore(o,a))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,t,e){const o=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(e)),a=o?this._activeItems.findIndex(c=>{const d=c.getRootElement();return o===d||d.contains(o)}):-1;return-1!==a&&this._sortPredicate(a,n)?a:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,w.KT)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,t,e){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let o=1/0,a=-1;for(let c=0;c<this._activeItems.length;c++){const d=this._activeItems[c];if(d!==n){const{x:u,y:z}=d.getRootElement().getBoundingClientRect(),x=Math.hypot(t-u,e-z);x<o&&(o=x,a=c)}}return a}}var W=function(s){return s[s.NONE=0]="NONE",s[s.UP=1]="UP",s[s.DOWN=2]="DOWN",s}(W||{}),G=function(s){return s[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s}(G||{});class Be{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new C.B;entered=new C.B;exited=new C.B;dropped=new C.B;sorted=new C.B;receivingStarted=new C.B;receivingStopped=new C.B;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=_.yU.EMPTY;_verticalScrollDirection=W.NONE;_horizontalScrollDirection=G.NONE;_scrollNode;_stopScrollTimers=new C.B;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,t,e,o,a){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=a;const c=this.element=(0,f.i8)(n);this._document=e,this.withOrientation("vertical").withElementContainer(c),t.registerDropContainer(this),this._parentPositions=new wt(e)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,e,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,t,e,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,e,o,a,c,d,u={}){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:e,container:this,previousContainer:o,isPointerOverContainer:a,distance:c,dropPoint:d,event:u})}withItems(n){const t=this._draggables;return this._draggables=n,n.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>-1===n.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof he&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if("mixed"===n)this._sortStrategy=new Ae(this._document,this._dragDropRegistry);else{const t=new he(this._dragDropRegistry);t.direction=this._direction,t.orientation=n,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,e)=>this.sortPredicate(t,e,this)),this}withScrollableParents(n){const t=this._container;return this._scrollableElements=-1===n.indexOf(t)?[t,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;(0,f.i8)(this.element);const e=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(n);return e>-1&&this._scrollableElements.splice(e,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,e,o){if(this.sortingDisabled||!this._domRect||!Qt(this._domRect,.05,t,e))return;const a=this._sortStrategy.sort(n,t,e,o);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let e,o=W.NONE,a=G.NONE;if(this._parentPositions.positions.forEach((c,d)=>{d===this._document||!c.clientRect||e||Qt(c.clientRect,.05,n,t)&&([o,a]=function je(s,n,t,e,o){const a=me(n,o),c=fe(n,e);let d=W.NONE,u=G.NONE;if(a){const z=s.scrollTop;a===W.UP?z>0&&(d=W.UP):s.scrollHeight-z>s.clientHeight&&(d=W.DOWN)}if(c){const z=s.scrollLeft;"rtl"===t?c===G.RIGHT?z<0&&(u=G.RIGHT):s.scrollWidth+z>s.clientWidth&&(u=G.LEFT):c===G.LEFT?z>0&&(u=G.LEFT):s.scrollWidth-z>s.clientWidth&&(u=G.RIGHT)}return[d,u]}(d,c.clientRect,this._direction,n,t),(o||a)&&(e=d))}),!o&&!a){const{width:c,height:d}=this._viewportRuler.getViewportSize(),u={width:c,height:d,top:0,right:c,bottom:d,left:0};o=me(u,t),a=fe(u,n),e=window}e&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=e,(o||a)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function Y(s=0,n=R.E){return s<0&&(s=0),(0,B.O)(s,s,n)}(0,gt.X).pipe((0,k.Q)(this._stopScrollTimers)).subscribe(()=>{const n=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===W.UP?n.scrollBy(0,-t):this._verticalScrollDirection===W.DOWN&&n.scrollBy(0,t),this._horizontalScrollDirection===G.LEFT?n.scrollBy(-t,0):this._horizontalScrollDirection===G.RIGHT&&n.scrollBy(t,0)})};_isOverContainer(n,t){return null!=this._domRect&&ut(this._domRect,n,t)}_getSiblingContainerFromPosition(n,t,e){return this._siblings.find(o=>o._canReceive(n,t,e))}_canReceive(n,t,e){if(!this._domRect||!ut(this._domRect,t,e)||!this.enterPredicate(n,this))return!1;const o=this._getShadowRoot().elementFromPoint(t,e);return!!o&&(o===this._container||this._container.contains(o))}_startReceiving(n,t){const e=this._activeSiblings;!e.has(n)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(e.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:t}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(n);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=(0,w.KT)(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}}function me(s,n){const{top:t,bottom:e,height:o}=s,a=.05*o;return n>=t-a&&n<=t+a?W.UP:n>=e-a&&n<=e+a?W.DOWN:W.NONE}function fe(s,n){const{left:t,right:e,width:o}=s,a=.05*o;return n>=t-a&&n<=t+a?G.LEFT:n>=e-a&&n<=e+a?G.RIGHT:G.NONE}const Pt=(0,w.BQ)({passive:!1,capture:!0});let Ge=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=i.VBU({type:s,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(e,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return s})(),Yt=(()=>{class s{_ngZone=(0,i.WQX)(i.SKi);_document=(0,i.WQX)(tt.qQ);_styleLoader=(0,i.WQX)(Ut.l);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,i.vPA)([]);_globalListeners=new Map;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new C.B;pointerUp=new C.B;scroll=new C.B;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Pt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Pt)}startDragging(t,e){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(Ge),this._activeDragInstances.update(o=>[...o,t]),1===this._activeDragInstances().length)){const o=e.type.startsWith("touch"),a={handler:c=>this.pointerUp.next(c),options:!0};o?(this._globalListeners.set("touchend",a),this._globalListeners.set("touchcancel",a)):this._globalListeners.set("mouseup",a),this._globalListeners.set("scroll",{handler:c=>this.scroll.next(c),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Pt}),o||this._globalListeners.set("mousemove",{handler:c=>this.pointerMove.next(c),options:Pt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((c,d)=>{this._document.addEventListener(d,c.handler,c.options)})})}}stopDragging(t){this._activeDragInstances.update(e=>{const o=e.indexOf(t);return o>-1?(e.splice(o,1),[...e]):e}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const e=[this.scroll];return t&&t!==this._document&&e.push(new Tt.c(o=>this._ngZone.runOutsideAngular(()=>{const c=d=>{this._activeDragInstances().length&&o.next(d)};return t.addEventListener("scroll",c,!0),()=>{t.removeEventListener("scroll",c,!0)}}))),(0,mt.h)(...e)}registerDirectiveNode(t,e){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,e)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}static \u0275fac=function(e){return new(e||s)};static \u0275prov=i.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Ve={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ue=(()=>{class s{_document=(0,i.WQX)(tt.qQ);_ngZone=(0,i.WQX)(i.SKi);_viewportRuler=(0,i.WQX)(r.Xj);_dragDropRegistry=(0,i.WQX)(Yt);_renderer=(0,i.WQX)(i._9s).createRenderer(null,null);constructor(){}createDrag(t,e=Ve){return new Le(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new Be(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=i.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const vt=new i.nKC("CDK_DRAG_PARENT"),_e=new i.nKC("CdkDragHandle");let Ce=(()=>{class s{element=(0,i.WQX)(i.aKT);_parentDrag=(0,i.WQX)(vt,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,i.WQX)(Yt);_stateChanges=new C.B;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){const e=this._dragDropRegistry.getDragDirectiveForNode(t);if(e){this._parentDrag=e,e._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(e){return new(e||s)};static \u0275dir=i.FsC({type:s,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",i.L39]},features:[i.Jv_([{provide:_e,useExisting:s}]),i.GFd]})}return s})();const ve=new i.nKC("CDK_DRAG_CONFIG"),ze=new i.nKC("CdkDropList");let ye=(()=>{class s{element=(0,i.WQX)(i.aKT);dropContainer=(0,i.WQX)(ze,{optional:!0,skipSelf:!0});_ngZone=(0,i.WQX)(i.SKi);_viewContainerRef=(0,i.WQX)(i.c1b);_dir=(0,i.WQX)(ft.dS,{optional:!0});_changeDetectorRef=(0,i.WQX)(i.gRc);_selfHandle=(0,i.WQX)(_e,{optional:!0,self:!0});_parentDrag=(0,i.WQX)(vt,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,i.WQX)(Yt);_destroyed=new C.B;_handles=new $t.t([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new i.bkB;released=new i.bkB;ended=new i.bkB;entered=new i.bkB;exited=new i.bkB;dropped=new i.bkB;moved=new Tt.c(t=>{const e=this._dragRef.moved.pipe((0,Ht.T)(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(t);return()=>{e.unsubscribe()}});_injector=(0,i.WQX)(i.zZn);constructor(){const t=this.dropContainer,e=(0,i.WQX)(ve,{optional:!0}),o=(0,i.WQX)(ue);this._dragRef=o.createDrag(this.element,{dragStartThreshold:e&&null!=e.dragStartThreshold?e.dragStartThreshold:5,pointerDirectionChangeThreshold:e&&null!=e.pointerDirectionChangeThreshold?e.pointerDirectionChangeThreshold:5,zIndex:e?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),e&&this._assignDefaults(e),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe((0,k.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){(0,i.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const e=t.rootElementSelector,o=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const e=this._handles.getValue();e.push(t),this._handles.next(e)}_removeHandle(t){const e=this._handles.getValue(),o=e.indexOf(t);o>-1&&(e.splice(o,1),this._handles.next(e))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let e=t;this.rootElementSelector&&(e=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,f.i8)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,o=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,c=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay="object"==typeof o&&o?o:(0,f.OE)(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(c).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe((0,T.s)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let e=this.element.nativeElement.parentElement;for(;e;){const o=this._dragDropRegistry.getDragDirectiveForNode(e);if(o){t.withParent(o._dragRef);break}e=e.parentElement}})}_handleEvents(t){t.started.subscribe(e=>{this.started.emit({source:this,event:e.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(e=>{this.released.emit({source:this,event:e.event})}),t.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:o,constrainPosition:a,previewClass:c,boundaryElement:d,draggingDisabled:u,rootElementSelector:z,previewContainer:x}=t;this.disabled=u??!1,this.dragStartDelay=o||0,e&&(this.lockAxis=e),a&&(this.constrainPosition=a),c&&(this.previewClass=c),d&&(this.boundaryElement=d),z&&(this.rootElementSelector=z),x&&(this.previewContainer=x)}_setupHandlesListener(){this._handles.pipe((0,Xt.M)(t=>{const e=t.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),(0,Wt.n)(t=>(0,mt.h)(...t.map(e=>e._stateChanges.pipe((0,b.Z)(e))))),(0,k.Q)(this._destroyed)).subscribe(t=>{const e=this._dragRef,o=t.element.nativeElement;t.disabled?e.disableHandle(o):e.enableHandle(o)})}static \u0275fac=function(e){return new(e||s)};static \u0275dir=i.FsC({type:s,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,o){2&e&&i.AVh("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",i.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",i.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.Jv_([{provide:vt,useExisting:s}]),i.GFd,i.OA$]})}return s})();var De=m(7336);const Ke=["nz-modal-close",""];function Qe(s,n){if(1&s&&(i.qex(0),i.nrm(1,"nz-icon",2),i.bVm()),2&s){const t=n.$implicit;i.R7$(),i.Y8G("nzType",t)}}const be=["modalElement"];function Ze(s,n){if(1&s){const t=i.RV6();i.j41(0,"button",16),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onCloseClick())}),i.k0s()}}function Ye(s,n){if(1&s&&(i.qex(0),i.nrm(1,"span",12),i.bVm()),2&s){const t=i.XpG();i.R7$(),i.Y8G("innerHTML",t.config.nzTitle,i.npT)}}function Je(s,n){}function qe(s,n){if(1&s&&i.nrm(0,"div",12),2&s){const t=i.XpG();i.Y8G("innerHTML",t.config.nzContent,i.npT)}}function tn(s,n){if(1&s){const t=i.RV6();i.j41(0,"button",17),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onCancel())}),i.EFF(1),i.k0s()}if(2&s){const t=i.XpG();i.Y8G("nzLoading",t.config.nzCancelLoading)("disabled",t.config.nzCancelDisabled),i.BMQ("cdkFocusInitial","cancel"===t.config.nzAutofocus||null),i.R7$(),i.SpI(" ",t.config.nzCancelText||t.locale.cancelText," ")}}function en(s,n){if(1&s){const t=i.RV6();i.j41(0,"button",18),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onOk())}),i.EFF(1),i.k0s()}if(2&s){const t=i.XpG();i.Y8G("nzType",t.config.nzOkType)("nzLoading",t.config.nzOkLoading)("disabled",t.config.nzOkDisabled)("nzDanger",t.config.nzOkDanger),i.BMQ("cdkFocusInitial","ok"===t.config.nzAutofocus||null),i.R7$(),i.SpI(" ",t.config.nzOkText||t.locale.okText," ")}}const nn=["nz-modal-footer",""],on=(s,n)=>({$implicit:s,modalRef:n});function sn(s,n){if(1&s){const t=i.RV6();i.j41(0,"button",3),i.bIt("click",function(){const o=i.eBV(t).$implicit,a=i.XpG(4);return i.Njj(a.onButtonClick(o))}),i.EFF(1),i.k0s()}if(2&s){const t=n.$implicit,e=i.XpG(4);i.Y8G("hidden",!e.getButtonCallableProp(t,"show"))("nzLoading",e.getButtonCallableProp(t,"loading"))("disabled",e.getButtonCallableProp(t,"disabled"))("nzType",t.type)("nzDanger",t.danger)("nzShape",t.shape)("nzSize",t.size)("nzGhost",t.ghost),i.R7$(),i.SpI(" ",t.label," ")}}function rn(s,n){if(1&s&&i.Z7z(0,sn,2,9,"button",2,i.fX1),2&s){const t=i.XpG(3);i.Dyx(t.buttons)}}function an(s,n){if(1&s&&i.nrm(0,"div",1),2&s){const t=i.XpG(3);i.Y8G("innerHTML",t.config.nzFooter,i.npT)}}function cn(s,n){if(1&s&&(i.qex(0),i.DNE(1,rn,2,0)(2,an,1,1,"div",1),i.bVm()),2&s){const t=i.XpG(2);i.R7$(),i.vxM(t.buttonsFooter?1:2)}}function ln(s,n){if(1&s&&i.DNE(0,cn,3,1,"ng-container",0),2&s){const t=i.XpG();i.Y8G("nzStringTemplateOutlet",t.config.nzFooter)("nzStringTemplateOutletContext",i.l_i(2,on,t.config.nzData,t.modalRef))}}function dn(s,n){if(1&s){const t=i.RV6();i.j41(0,"button",6),i.bIt("click",function(){i.eBV(t);const o=i.XpG(2);return i.Njj(o.onCancel())}),i.EFF(1),i.k0s()}if(2&s){const t=i.XpG(2);i.Y8G("nzLoading",t.config.nzCancelLoading)("disabled",t.config.nzCancelDisabled),i.BMQ("cdkFocusInitial","cancel"===t.config.nzAutofocus||null),i.R7$(),i.SpI(" ",t.config.nzCancelText||t.locale.cancelText," ")}}function hn(s,n){if(1&s){const t=i.RV6();i.j41(0,"button",7),i.bIt("click",function(){i.eBV(t);const o=i.XpG(2);return i.Njj(o.onOk())}),i.EFF(1),i.k0s()}if(2&s){const t=i.XpG(2);i.Y8G("nzType",t.config.nzOkType)("nzDanger",t.config.nzOkDanger)("nzLoading",t.config.nzOkLoading)("disabled",t.config.nzOkDisabled),i.BMQ("cdkFocusInitial","ok"===t.config.nzAutofocus||null),i.R7$(),i.SpI(" ",t.config.nzOkText||t.locale.okText," ")}}function pn(s,n){if(1&s&&i.DNE(0,dn,2,4,"button",4)(1,hn,2,6,"button",5),2&s){const t=i.XpG();i.vxM(null!==t.config.nzCancelText?0:-1),i.R7$(),i.vxM(null!==t.config.nzOkText?1:-1)}}const gn=["nz-modal-title",""];function mn(s,n){if(1&s&&(i.qex(0),i.nrm(1,"div",2),i.bVm()),2&s){const t=i.XpG();i.R7$(),i.Y8G("innerHTML",t.config.nzTitle,i.npT)}}function fn(s,n){if(1&s){const t=i.RV6();i.j41(0,"button",9),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onCloseClick())}),i.k0s()}}function un(s,n){if(1&s&&i.nrm(0,"div",10),2&s){const t=i.XpG();i.xc7("cursor",t.config.nzDraggable?"move":"auto")}}function _n(s,n){}function Cn(s,n){if(1&s&&i.nrm(0,"div",7),2&s){const t=i.XpG();i.Y8G("innerHTML",t.config.nzContent,i.npT)}}function vn(s,n){if(1&s){const t=i.RV6();i.j41(0,"div",11),i.bIt("cancelTriggered",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onCloseClick())})("okTriggered",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onOkClick())}),i.k0s()}if(2&s){const t=i.XpG();i.Y8G("modalRef",t.modalRef)}}const Te=()=>{};class at{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzDraggable=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=Te,this.nzOnOk=Te,this.nzIconType="question-circle"}}const kt="ant-modal-mask",Ot="modal",zn=new i.nKC("NZ_MODAL_DATA"),Ee={modalContainer:(0,j.hZ)("modalContainer",[(0,j.wk)("void, exit",(0,j.iF)({})),(0,j.wk)("enter",(0,j.iF)({})),(0,j.kY)("* => enter",(0,j.i0)(".24s",(0,j.iF)({}))),(0,j.kY)("* => void, * => exit",(0,j.i0)(".2s",(0,j.iF)({})))])};let qt=(()=>{class s{constructor(t){this.config=t}static{this.\u0275fac=function(e){return new(e||s)(i.rXU(at))}}static{this.\u0275cmp=i.VBU({type:s,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:Ke,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-close-icon",3,"nzType"]],template:function(e,o){1&e&&(i.j41(0,"span",0),i.DNE(1,Qe,2,1,"ng-container",1),i.k0s()),2&e&&(i.R7$(),i.Y8G("nzStringTemplateOutlet",o.config.nzCloseIcon))},dependencies:[Q.Y3,Q.Dn,N.C,N.m],encapsulation:2,changeDetection:0})}}return s})();function zt(s,n,t){return typeof s>"u"?typeof n>"u"?t:n:s}function Me(s){const{nzCentered:n,nzMask:t,nzMaskClosable:e,nzClosable:o,nzOkLoading:a,nzOkDisabled:c,nzCancelDisabled:d,nzCancelLoading:u,nzKeyboard:z,nzNoAnimation:x,nzDraggable:V,nzContent:K,nzFooter:Dt,nzZIndex:ee,nzWidth:ne,nzWrapClassName:$,nzClassName:ie,nzStyle:Ft,nzTitle:bt,nzCloseIcon:Lt,nzMaskStyle:At,nzBodyStyle:Sn,nzOkText:Rn,nzCancelText:wn,nzOkType:xn,nzOkDanger:Nn,nzIconType:In,nzModalType:Pn,nzOnOk:kn,nzOnCancel:On,nzAfterOpen:Fn,nzAfterClose:Ln,nzCloseOnNavigation:An,nzAutofocus:Bn}=s;return{nzCentered:n,nzMask:t,nzMaskClosable:e,nzDraggable:V,nzClosable:o,nzOkLoading:a,nzOkDisabled:c,nzCancelDisabled:d,nzCancelLoading:u,nzKeyboard:z,nzNoAnimation:x,nzContent:K,nzFooter:Dt,nzZIndex:ee,nzWidth:ne,nzWrapClassName:$,nzClassName:ie,nzStyle:Ft,nzTitle:bt,nzCloseIcon:Lt,nzMaskStyle:At,nzBodyStyle:Sn,nzOkText:Rn,nzCancelText:wn,nzOkType:xn,nzOkDanger:Nn,nzIconType:In,nzModalType:Pn,nzOnOk:kn,nzOnCancel:On,nzAfterOpen:Fn,nzAfterClose:Ln,nzCloseOnNavigation:An,nzAutofocus:Bn}}function Se(){throw Error("Attempting to attach modal content after content is already attached")}let Re=(()=>{class s extends P.lb{get showMask(){const t=this.nzConfigService.getConfigForComponent(Ot)||{};return!!zt(this.config.nzMask,t.nzMask,!0)}get maskClosable(){const t=this.nzConfigService.getConfigForComponent(Ot)||{};return!!zt(this.config.nzMaskClosable,t.nzMaskClosable,!0)}constructor(){super(),this.animationStateChanged=new i.bkB,this.containerClick=new i.bkB,this.cancelTriggered=new i.bkB,this.okTriggered=new i.bkB,this.state="enter",this.document=(0,i.WQX)(tt.qQ),this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.cdr=(0,i.WQX)(i.gRc),this.config=(0,i.WQX)(at),this.destroy$=new C.B,this.ngZone=(0,i.WQX)(i.SKi),this.host=(0,i.WQX)(i.aKT),this.focusTrapFactory=(0,i.WQX)(Z.GX),this.render=(0,i.WQX)(i.sFG),this.overlayRef=(0,i.WQX)(I.yY),this.nzConfigService=(0,i.WQX)(et.yx),this.animationType=(0,i.WQX)(i.bc$,{optional:!0}),this.dir=this.overlayRef.getDirection(),this.isStringContent="string"==typeof this.config.nzContent,this.nzConfigService.getConfigChangeEventForComponent(Ot).pipe((0,k.Q)(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}onContainerClick(t){t.target===t.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(t){return this.portalOutlet.hasAttached()&&Se(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this.portalOutlet.hasAttached()&&Se(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(t)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const t=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const e=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),o=(0,S.Mk)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(t,"transform-origin",`${o.left+e.width/2-t.offsetLeft}px ${o.top+e.height/2-t.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>(0,pt.j)(()=>this.host.nativeElement.focus())))}trapFocus(){const t=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const e=this.document.activeElement;e!==t&&!t.contains(e)&&t.focus()}}restoreFocus(){const t=this.elementFocusedBeforeModalWasOpened;if(t&&"function"==typeof t.focus){const e=this.document.activeElement,o=this.host.nativeElement;(!e||e===this.document.body||e===o||o.contains(e))&&t.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const t=this.modalElementRef.nativeElement,e=this.overlayRef.backdropElement;t.classList.add("ant-zoom-enter"),t.classList.add("ant-zoom-enter-active"),e&&(e.classList.add("ant-fade-enter"),e.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const t=this.modalElementRef.nativeElement;t.classList.add("ant-zoom-leave"),t.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(t=!1){const e=this.overlayRef.backdropElement;if(e){if(this.animationDisabled()||t)return void e.classList.remove(kt);e.classList.add("ant-fade-leave"),e.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const t=this.overlayRef.backdropElement,e=this.modalElementRef.nativeElement;t&&(t.classList.remove("ant-fade-enter"),t.classList.remove("ant-fade-enter-active")),e.classList.remove("ant-zoom-enter"),e.classList.remove("ant-zoom-enter-active"),e.classList.remove("ant-zoom-leave"),e.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const t=this.overlayRef.backdropElement;t&&(0,S.n9)(this.config.nzZIndex)&&this.render.setStyle(t,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const t=this.overlayRef.backdropElement;if(t&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(o=>{this.render.removeStyle(t,o)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const e={...this.config.nzMaskStyle};Object.keys(e).forEach(o=>{this.render.setStyle(t,o,e[o])}),this.oldMaskStyle=e}}updateMaskClassname(){const t=this.overlayRef.backdropElement;t&&(this.showMask?t.classList.add(kt):t.classList.remove(kt))}onAnimationDone(t){"enter"===t.toState?this.trapFocus():"exit"===t.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(t)}onAnimationStart(t){"enter"===t.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===t.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(t)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(!0),this.destroy$.complete()}setupMouseListeners(t){(0,S.wN)(this.host.nativeElement,"mouseup").pipe((0,k.Q)(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),(0,S.wN)(t.nativeElement,"mousedown").pipe((0,k.Q)(this.destroy$)).subscribe(()=>{this.mouseDown=!0})}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275dir=i.FsC({type:s,features:[i.Vt3]})}}return s})(),we=(()=>{class s extends Re{constructor(){super(),this.cancelTriggered=new i.bkB,this.okTriggered=new i.bkB,this.i18n=(0,i.WQX)(U.Og),this.i18n.localeChange.pipe((0,k.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275cmp=i.VBU({type:s,selectors:[["nz-modal-confirm-container"]],viewQuery:function(e,o){if(1&e&&(i.GBs(P.I3,7),i.GBs(be,7)),2&e){let a;i.mGM(a=i.lsd())&&(o.portalOutlet=a.first),i.mGM(a=i.lsd())&&(o.modalElementRef=a.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(e,o){1&e&&(i.Kam("@modalContainer.start",function(c){return o.onAnimationStart(c)})("@modalContainer.done",function(c){return o.onAnimationDone(c)}),i.bIt("click",function(c){return o.onContainerClick(c)})),2&e&&(i.zvX("@.disabled",o.config.nzNoAnimation)("@modalContainer",o.state),i.HbH(o.config.nzWrapClassName?"ant-modal-wrap "+o.config.nzWrapClassName:"ant-modal-wrap"),i.xc7("z-index",o.config.nzZIndex),i.AVh("ant-modal-wrap-rtl","rtl"===o.dir)("ant-modal-centered",o.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[i.nM4([r.uv]),i.Vt3],decls:17,vars:16,consts:[["modalElement",""],["role","document",1,"ant-modal"],[1,"ant-modal-content"],["nz-modal-close",""],[1,"ant-modal-body"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],[3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger"],["nz-modal-close","",3,"click"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzLoading","disabled","nzDanger"]],template:function(e,o){1&e&&(i.j41(0,"div",1,0),i.nI1(2,"nzToCssUnit"),i.j41(3,"div",2),i.DNE(4,Ze,1,0,"button",3),i.j41(5,"div",4)(6,"div",5)(7,"div",6),i.nrm(8,"nz-icon",7),i.j41(9,"span",8),i.DNE(10,Ye,2,1,"ng-container",9),i.k0s(),i.j41(11,"div",10),i.DNE(12,Je,0,0,"ng-template",11)(13,qe,1,1,"div",12),i.k0s()(),i.j41(14,"div",13),i.DNE(15,tn,2,4,"button",14)(16,en,2,6,"button",15),i.k0s()()()()()),2&e&&(i.Aen(o.config.nzStyle),i.HbH(o.config.nzClassName),i.xc7("width",i.bMT(2,14,null==o.config?null:o.config.nzWidth)),i.R7$(4),i.vxM(o.config.nzClosable?4:-1),i.R7$(),i.Aen(o.config.nzBodyStyle),i.R7$(3),i.Y8G("nzType",o.config.nzIconType),i.R7$(2),i.Y8G("nzStringTemplateOutlet",o.config.nzTitle),i.R7$(3),i.vxM(o.isStringContent?13:-1),i.R7$(2),i.vxM(null!==o.config.nzCancelText?15:-1),i.R7$(),i.vxM(null!==o.config.nzOkText?16:-1))},dependencies:[ht,st,Q.Y3,Q.Dn,qt,N.C,N.m,P.jc,P.I3,L.Zw,L.aO,nt.c,rt.p],encapsulation:2,data:{animation:[Ee.modalContainer]}})}}return s})(),xe=(()=>{class s{constructor(t,e){this.i18n=t,this.config=e,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new i.bkB,this.okTriggered=new i.bkB,this.destroy$=new C.B,Array.isArray(e.nzFooter)&&(this.buttonsFooter=!0,this.buttons=e.nzFooter.map(Dn)),this.i18n.localeChange.pipe((0,k.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(t,e){const o=t[e],a=this.modalRef.getContentComponent();return"function"==typeof o?o.apply(t,a&&[a]):o}onButtonClick(t){if(!this.getButtonCallableProp(t,"loading")){const o=this.getButtonCallableProp(t,"onClick");t.autoLoading&&(0,S.yL)(o)&&(t.loading=!0,o.then(()=>t.loading=!1).catch(a=>{throw t.loading=!1,a}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(e){return new(e||s)(i.rXU(U.Og),i.rXU(at))}}static{this.\u0275cmp=i.VBU({type:s,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:nn,decls:2,vars:1,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"click","hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzDanger","nzLoading","disabled"]],template:function(e,o){1&e&&i.DNE(0,ln,1,5,"ng-container")(1,pn,2,2),2&e&&i.vxM(o.config.nzFooter?0:1)},dependencies:[N.C,N.m,L.Zw,L.aO,nt.c,rt.p],encapsulation:2})}}return s})();function Dn(s){return{type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1,...s}}let Ne=(()=>{class s{constructor(t){this.config=t}static{this.\u0275fac=function(e){return new(e||s)(i.rXU(at))}}static{this.\u0275cmp=i.VBU({type:s,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:gn,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(e,o){1&e&&(i.j41(0,"div",0),i.DNE(1,mn,2,1,"ng-container",1),i.k0s()),2&e&&(i.R7$(),i.Y8G("nzStringTemplateOutlet",o.config.nzTitle))},dependencies:[N.C,N.m],encapsulation:2,changeDetection:0})}}return s})(),Ie=(()=>{class s extends Re{ngOnInit(){this.setupMouseListeners(this.modalElementRef)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=i.xGo(s)))(o||s)}})()}static{this.\u0275cmp=i.VBU({type:s,selectors:[["nz-modal-container"]],viewQuery:function(e,o){if(1&e&&(i.GBs(P.I3,7),i.GBs(be,7)),2&e){let a;i.mGM(a=i.lsd())&&(o.portalOutlet=a.first),i.mGM(a=i.lsd())&&(o.modalElementRef=a.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(e,o){1&e&&(i.Kam("@modalContainer.start",function(c){return o.onAnimationStart(c)})("@modalContainer.done",function(c){return o.onAnimationDone(c)}),i.bIt("click",function(c){return o.onContainerClick(c)})),2&e&&(i.zvX("@.disabled",o.config.nzNoAnimation)("@modalContainer",o.state),i.HbH(o.config.nzWrapClassName?"ant-modal-wrap "+o.config.nzWrapClassName:"ant-modal-wrap"),i.xc7("z-index",o.config.nzZIndex),i.AVh("ant-modal-wrap-rtl","rtl"===o.dir)("ant-modal-centered",o.config.nzCentered))},exportAs:["nzModalContainer"],features:[i.nM4([r.uv]),i.Vt3],decls:10,vars:15,consts:[["modalElement",""],["cdkDrag","","cdkDragBoundary",".cdk-overlay-container","role","document",1,"ant-modal",3,"cdkDragDisabled"],[1,"ant-modal-content"],["nz-modal-close",""],["nz-modal-title","","cdkDragHandle","",3,"cursor"],[1,"ant-modal-body"],["cdkPortalOutlet",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef"],["nz-modal-close","",3,"click"],["nz-modal-title","","cdkDragHandle",""],["nz-modal-footer","",3,"cancelTriggered","okTriggered","modalRef"]],template:function(e,o){1&e&&(i.j41(0,"div",1,0),i.nI1(2,"nzToCssUnit"),i.j41(3,"div",2),i.DNE(4,fn,1,0,"button",3)(5,un,1,2,"div",4),i.j41(6,"div",5),i.DNE(7,_n,0,0,"ng-template",6)(8,Cn,1,1,"div",7),i.k0s(),i.DNE(9,vn,1,1,"div",8),i.k0s()()),2&e&&(i.Aen(o.config.nzStyle),i.HbH(o.config.nzClassName),i.xc7("width",i.bMT(2,13,null==o.config?null:o.config.nzWidth)),i.Y8G("cdkDragDisabled",!o.config.nzDraggable),i.R7$(4),i.vxM(o.config.nzClosable?4:-1),i.R7$(),i.vxM(o.config.nzTitle?5:-1),i.R7$(),i.Aen(o.config.nzBodyStyle),i.R7$(2),i.vxM(o.isStringContent?8:-1),i.R7$(),i.vxM(null!==o.config.nzFooter?9:-1))},dependencies:[qt,Ne,P.jc,P.I3,xe,ht,st,ye,Ce],encapsulation:2,data:{animation:[Ee.modalContainer]}})}}return s})();class yt{constructor(n,t,e){this.overlayRef=n,this.config=t,this.containerInstance=e,this.componentInstance=null,this.componentRef=null,this.state=0,this.afterClose=new C.B,this.afterOpen=new C.B,this.destroy$=new C.B,e.animationStateChanged.pipe((0,O.p)(o=>"done"===o.phaseName&&"enter"===o.toState),(0,T.s)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),t.nzAfterOpen instanceof i.bkB&&t.nzAfterOpen.emit()}),e.animationStateChanged.pipe((0,O.p)(o=>"done"===o.phaseName&&"exit"===o.toState),(0,T.s)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),e.containerClick.pipe((0,k.Q)(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),n.keydownEvents().pipe((0,O.p)(o=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&o.keyCode===De._f&&!(0,De.rp)(o))).subscribe(o=>{o.preventDefault(),this.trigger("cancel")}),e.cancelTriggered.pipe((0,k.Q)(this.destroy$)).subscribe(()=>this.trigger("cancel")),e.okTriggered.pipe((0,k.Q)(this.destroy$)).subscribe(()=>this.trigger("ok")),n.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),t.nzAfterClose instanceof i.bkB&&t.nzAfterClose.emit(this.result),this.componentInstance=null,this.componentRef=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}getElement(){return this.containerInstance.getNativeElement()}destroy(n){this.close(n)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(n){0===this.state&&(this.result=n,this.containerInstance.animationStateChanged.pipe((0,O.p)(t=>"start"===t.phaseName),(0,T.s)(1)).subscribe(t=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},t.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(n){Object.assign(this.config,n),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(n){var t=this;return(0,M.A)(function*(){if(1===t.state)return;const e={ok:t.config.nzOnOk,cancel:t.config.nzOnCancel}[n],o={ok:"nzOkLoading",cancel:"nzCancelLoading"}[n];if(!t.config[o])if(e instanceof i.bkB)e.emit(t.getContentComponent());else if("function"==typeof e){const c=e(t.getContentComponent());if((0,S.yL)(c)){t.config[o]=!0;let d=!1;try{d=yield c}finally{t.config[o]=!1,t.closeWhitResult(d)}}else t.closeWhitResult(c)}})()}closeWhitResult(n){!1!==n&&this.close(n)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let te=(()=>{class s{get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const t=this.parentModal;return t?t._afterAllClosed:this.afterAllClosedAtThisLevel}constructor(t,e,o,a){this.overlay=t,this.injector=e,this.nzConfigService=o,this.directionality=a,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new C.B,this.afterAllClose=(0,F.v)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,b.Z)(void 0))),this.parentModal=(0,i.WQX)(s,{skipSelf:!0,optional:!0})}create(t){return this.open(t.nzContent,t)}closeAll(){this.closeModals(this.openModals)}confirm(t={},e="confirm"){return"nzFooter"in t&&(0,y.R8)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in t||(t.nzWidth=416),"nzMaskClosable"in t||(t.nzMaskClosable=!1),t.nzModalType="confirm",t.nzClassName=`ant-modal-confirm ant-modal-confirm-${e} ${t.nzClassName||""}`,this.create(t)}info(t={}){return this.confirmFactory(t,"info")}success(t={}){return this.confirmFactory(t,"success")}error(t={}){return this.confirmFactory(t,"error")}warning(t={}){return this.confirmFactory(t,"warning")}open(t,e){const o=function yn(s,n){return{...n,...s}}(e||{},new at),a=this.createOverlay(o),c=this.attachModalContainer(a,o),d=this.attachModalContent(t,c,a,o);return c.modalRef=d,(0,D.G5)(a,e?.nzZIndex),this.openModals.push(d),d.afterClose.subscribe(()=>this.removeOpenModal(d)),d}removeOpenModal(t){const e=this.openModals.indexOf(t);e>-1&&(this.openModals.splice(e,1),this.openModals.length||this._afterAllClosed.next())}closeModals(t){let e=t.length;for(;e--;)t[e].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(t){const e=this.nzConfigService.getConfigForComponent(Ot)||{},o=new I.rR({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),backdropClass:zt(t.nzMask,e.nzMask,!0)?kt:"",positionStrategy:this.overlay.position().global(),disposeOnNavigation:zt(t.nzCloseOnNavigation,e.nzCloseOnNavigation,!0),direction:zt(t.nzDirection,e.nzDirection,this.directionality.value)});return this.overlay.create(o)}attachModalContainer(t,e){const a=i.zZn.create({parent:e&&e.nzViewContainerRef&&e.nzViewContainerRef.injector||this.injector,providers:[{provide:I.yY,useValue:t},{provide:at,useValue:e}]}),d=new P.A8("confirm"===e.nzModalType?we:Ie,e.nzViewContainerRef,a);return t.attach(d).instance}attachModalContent(t,e,o,a){const c=new yt(o,a,e);if(t instanceof i.C4Q)e.attachTemplatePortal(new P.VA(t,null,{$implicit:a.nzData,modalRef:c}));else if((0,S.n9)(t)&&"string"!=typeof t){const d=this.createInjector(c,a),u=e.attachComponentPortal(new P.A8(t,a.nzViewContainerRef,d));c.componentRef=u,c.componentInstance=u.instance}else e.attachStringContent();return c}createInjector(t,e){return i.zZn.create({parent:e&&e.nzViewContainerRef&&e.nzViewContainerRef.injector||this.injector,providers:[{provide:yt,useValue:t},{provide:zn,useValue:e.nzData}]})}confirmFactory(t={},e){return"nzIconType"in t||(t.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[e]),"nzCancelText"in t||(t.nzCancelText=null),this.confirm(t,e)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}static{this.\u0275fac=function(e){return new(e||s)(i.KVO(I.hJ),i.KVO(i.zZn),i.KVO(et.yx),i.KVO(ft.dS))}}static{this.\u0275prov=i.jDH({token:s,factory:s.\u0275fac})}}return s})(),Pe=(()=>{class s{constructor(t){this.templateRef=t}static{this.\u0275fac=function(e){return new(e||s)(i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:s,selectors:[["","nzModalContent",""]],exportAs:["nzModalContent"]})}}return s})(),bn=(()=>{class s{constructor(t){this.templateRef=t,this.nzModalRef=(0,i.WQX)(yt,{optional:!0}),this.nzModalRef&&this.nzModalRef.updateConfig({nzFooter:this.templateRef})}static{this.\u0275fac=function(e){return new(e||s)(i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:s,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"]})}}return s})(),Tn=(()=>{class s{constructor(t){this.templateRef=t,this.nzModalRef=(0,i.WQX)(yt,{optional:!0}),this.nzModalRef&&this.nzModalRef.updateConfig({nzTitle:this.templateRef})}static{this.\u0275fac=function(e){return new(e||s)(i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:s,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"]})}}return s})(),En=(()=>{class s{set modalTitle(t){t&&this.setTitleWithTemplate(t)}set modalFooter(t){t&&this.setFooterWithTemplate(t)}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}constructor(t,e,o){this.cdr=t,this.modal=e,this.viewContainerRef=o,this.nzVisible=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzCentered=!1,this.nzDraggable=!1,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzIconType="question-circle",this.nzModalType="default",this.nzAutofocus="auto",this.nzOnOk=new i.bkB,this.nzOnCancel=new i.bkB,this.nzAfterOpen=new i.bkB,this.nzAfterClose=new i.bkB,this.nzVisibleChange=new i.bkB,this.modalRef=null,this.destroy$=new C.B}open(){if(this.nzVisible||(this.nzVisible=!0,this.nzVisibleChange.emit(!0)),!this.modalRef){const t=this.getConfig();this.modalRef=this.modal.create(t),this.modalRef.afterClose.asObservable().pipe((0,k.Q)(this.destroy$)).subscribe(()=>{this.close()})}}close(t){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1)),this.modalRef&&(this.modalRef.close(t),this.modalRef=null)}destroy(t){this.close(t)}triggerOk(){this.modalRef?.triggerOk()}triggerCancel(){this.modalRef?.triggerCancel()}getContentComponent(){return this.modalRef?.getContentComponent()}getElement(){return this.modalRef?.getElement()}getModalRef(){return this.modalRef}setTitleWithTemplate(t){this.nzTitle=t,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzTitle:this.nzTitle})})}setFooterWithTemplate(t){this.nzFooter=t,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzFooter:this.nzFooter})}),this.cdr.markForCheck()}getConfig(){const t=Me(this);return t.nzViewContainerRef=this.viewContainerRef,t.nzContent=this.nzContent||this.contentFromContentChild,t}ngOnChanges(t){const{nzVisible:e,...o}=t;Object.keys(o).length&&this.modalRef&&this.modalRef.updateConfig(Me(this)),e&&(this.nzVisible?this.open():this.close())}ngOnDestroy(){this.modalRef?._finishDialogClose(),this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(e){return new(e||s)(i.rXU(i.gRc),i.rXU(te),i.rXU(i.c1b))}}static{this.\u0275cmp=i.VBU({type:s,selectors:[["nz-modal"]],contentQueries:function(e,o,a){if(1&e&&(i.wni(a,Tn,7,i.C4Q),i.wni(a,Pe,7,i.C4Q),i.wni(a,bn,7,i.C4Q)),2&e){let c;i.mGM(c=i.lsd())&&(o.modalTitle=c.first),i.mGM(c=i.lsd())&&(o.contentFromContentChild=c.first),i.mGM(c=i.lsd())&&(o.modalFooter=c.first)}},inputs:{nzMask:[2,"nzMask","nzMask",i.L39],nzMaskClosable:[2,"nzMaskClosable","nzMaskClosable",i.L39],nzCloseOnNavigation:[2,"nzCloseOnNavigation","nzCloseOnNavigation",i.L39],nzVisible:[2,"nzVisible","nzVisible",i.L39],nzClosable:[2,"nzClosable","nzClosable",i.L39],nzOkLoading:[2,"nzOkLoading","nzOkLoading",i.L39],nzOkDisabled:[2,"nzOkDisabled","nzOkDisabled",i.L39],nzCancelDisabled:[2,"nzCancelDisabled","nzCancelDisabled",i.L39],nzCancelLoading:[2,"nzCancelLoading","nzCancelLoading",i.L39],nzKeyboard:[2,"nzKeyboard","nzKeyboard",i.L39],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",i.L39],nzCentered:[2,"nzCentered","nzCentered",i.L39],nzDraggable:[2,"nzDraggable","nzDraggable",i.L39],nzContent:"nzContent",nzFooter:"nzFooter",nzZIndex:[2,"nzZIndex","nzZIndex",i.Udg],nzWidth:"nzWidth",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzCloseIcon:"nzCloseIcon",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText",nzOkType:"nzOkType",nzOkDanger:[2,"nzOkDanger","nzOkDanger",i.L39],nzIconType:"nzIconType",nzModalType:"nzModalType",nzAutofocus:"nzAutofocus",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],features:[i.GFd,i.OA$],decls:0,vars:0,template:function(e,o){},encapsulation:2,changeDetection:0})}}return s})(),Mn=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=i.$C({type:s})}static{this.\u0275inj=i.G2t({providers:[te],imports:[qt,xe,Ne,Ie,we]})}}return s})()},9803:(ot,H,m)=>{m.d(H,{xY:()=>xt});var M=m(177),r=m(4438),I=m(713),P=m(7806),i=m(5664),C=m(6939),F=m(1413),k=m(5964),O=m(6697),T=m(6042);let Q=0;class lt{constructor(v,l,p){this.nzSingletonService=v,this.overlay=l,this.injector=p}remove(v){this.container&&(v?this.container.remove(v):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${Q++}`}withContainer(v){let l=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(l)return l;const p=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),g=new C.A8(v,null,this.injector),E=p.attach(g);return p.hostElement.style.zIndex="1010",l||(this.container=l=E.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,l),this.container.afterAllInstancesRemoved.subscribe(()=>{this.container=void 0,this.nzSingletonService.unregisterSingletonWithKey(this.componentPrefix),p.dispose()})),l}}let dt=(()=>{class h{constructor(l,p){this.cdr=l,this.nzConfigService=p,this.instances=[],this._afterAllInstancesRemoved=new F.B,this.afterAllInstancesRemoved=this._afterAllInstancesRemoved.asObservable(),this.destroy$=new F.B,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(l){const p=this.onCreate(l);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,p],this.readyInstances(),p}remove(l,p=!1){this.instances.map((g,E)=>({index:E,instance:g})).filter(({instance:g})=>g.messageId===l).forEach(({index:g,instance:E})=>{this.instances.splice(g,1),this.instances=[...this.instances],this.onRemove(E,p),this.readyInstances()}),this.instances.length||this.onAllInstancesRemoved()}removeAll(){this.instances.forEach(l=>this.onRemove(l,!1)),this.instances=[],this.readyInstances(),this.onAllInstancesRemoved()}onCreate(l){return l.options=this.mergeOptions(l.options),l.onClose=new F.B,l}onRemove(l,p){l.onClose.next(p),l.onClose.complete()}onAllInstancesRemoved(){this._afterAllInstancesRemoved.next(),this._afterAllInstancesRemoved.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(l){const{nzDuration:p,nzAnimate:g,nzPauseOnHover:E}=this.config;return{nzDuration:p,nzAnimate:g,nzPauseOnHover:E,...l}}static{this.\u0275fac=function(p){return new(p||h)(r.rXU(r.gRc),r.rXU(T.yx))}}static{this.\u0275dir=r.FsC({type:h})}}return h})(),A=(()=>{class h{constructor(l){this.cdr=l,this.destroyed=new r.bkB,this.animationStateChanged=new F.B,this.userAction=!1}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,k.p)(l=>"done"===l.phaseName&&"leave"===l.toState),(0,O.s)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(l=!1){this.userAction=l,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:l})},200)):this.destroyed.next({id:this.instance.messageId,userAction:l})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=void 0)}static{this.\u0275fac=function(p){return new(p||h)(r.rXU(r.gRc))}}static{this.\u0275dir=r.FsC({type:h})}}return h})();var j=m(6977),Z=m(317),tt=m(1025),et=m(6969);const pt=(h,v)=>({$implicit:h,data:v}),nt=h=>({$implicit:h});function rt(h,v){}function f(h,v){if(1&h&&r.DNE(0,rt,0,0,"ng-template",1),2&h){const l=r.XpG();r.Y8G("ngTemplateOutlet",l.instance.template)("ngTemplateOutletContext",r.l_i(2,pt,l,null==l.instance.options?null:l.instance.options.nzData))}}function w(h,v){1&h&&r.nrm(0,"span",6)}function _(h,v){1&h&&r.nrm(0,"span",7)}function R(h,v){1&h&&r.nrm(0,"span",8)}function B(h,v){1&h&&r.nrm(0,"span",9)}function Y(h,v){if(1&h&&(r.qex(0),r.nrm(1,"div",14),r.bVm()),2&h){const l=r.XpG(2);r.R7$(),r.Y8G("innerHTML",l.instance.title,r.npT)}}function gt(h,v){if(1&h&&(r.qex(0),r.nrm(1,"div",14),r.bVm()),2&h){const l=r.XpG(2);r.R7$(),r.Y8G("innerHTML",l.instance.content,r.npT)}}function Tt(h,v){}function mt(h,v){if(1&h&&(r.j41(0,"span",13),r.DNE(1,Tt,0,0,"ng-template",1),r.k0s()),2&h){const l=r.XpG(2);r.R7$(),r.Y8G("ngTemplateOutlet",v)("ngTemplateOutletContext",r.eq3(2,nt,l))}}function $t(h,v){if(1&h&&(r.j41(0,"div",2)(1,"div",2)(2,"div"),r.DNE(3,w,1,0,"span",6)(4,_,1,0,"span",7)(5,R,1,0,"span",8)(6,B,1,0,"span",9),r.j41(7,"div",10),r.DNE(8,Y,2,1,"ng-container",11),r.k0s(),r.j41(9,"div",12),r.DNE(10,gt,2,1,"ng-container",11),r.k0s(),r.DNE(11,mt,2,4,"span",13),r.k0s()()()),2&h){let l,p;const g=r.XpG();r.R7$(2),r.AVh("ant-notification-notice-with-icon","blank"!==g.instance.type),r.R7$(),r.vxM("success"===(l=g.instance.type)?3:"info"===l?4:"warning"===l?5:"error"===l?6:-1),r.R7$(5),r.Y8G("nzStringTemplateOutlet",g.instance.title),r.R7$(2),r.Y8G("nzStringTemplateOutlet",g.instance.content),r.R7$(),r.vxM((p=null==g.instance.options?null:g.instance.options.nzButton)?11:-1,p)}}function Ht(h,v){if(1&h&&(r.qex(0),r.nrm(1,"nz-icon",15),r.bVm()),2&h){const l=v.$implicit;r.R7$(),r.Y8G("nzType",l)}}function Xt(h,v){if(1&h&&r.DNE(0,Ht,2,1,"ng-container",11),2&h){const l=r.XpG();r.Y8G("nzStringTemplateOutlet",null==l.instance.options?null:l.instance.options.nzCloseIcon)}}function Wt(h,v){1&h&&r.nrm(0,"nz-icon",5)}function Ut(h,v){if(1&h){const l=r.RV6();r.j41(0,"nz-notification",7),r.bIt("destroyed",function(g){r.eBV(l);const E=r.XpG();return r.Njj(E.remove(g.id,g.userAction))}),r.k0s()}2&h&&r.Y8G("instance",v.$implicit)("placement","topLeft")}function ft(h,v){if(1&h){const l=r.RV6();r.j41(0,"nz-notification",7),r.bIt("destroyed",function(g){r.eBV(l);const E=r.XpG();return r.Njj(E.remove(g.id,g.userAction))}),r.k0s()}2&h&&r.Y8G("instance",v.$implicit)("placement","topRight")}function Et(h,v){if(1&h){const l=r.RV6();r.j41(0,"nz-notification",7),r.bIt("destroyed",function(g){r.eBV(l);const E=r.XpG();return r.Njj(E.remove(g.id,g.userAction))}),r.k0s()}2&h&&r.Y8G("instance",v.$implicit)("placement","bottomLeft")}function Mt(h,v){if(1&h){const l=r.RV6();r.j41(0,"nz-notification",7),r.bIt("destroyed",function(g){r.eBV(l);const E=r.XpG();return r.Njj(E.remove(g.id,g.userAction))}),r.k0s()}2&h&&r.Y8G("instance",v.$implicit)("placement","bottomRight")}function Kt(h,v){if(1&h){const l=r.RV6();r.j41(0,"nz-notification",7),r.bIt("destroyed",function(g){r.eBV(l);const E=r.XpG();return r.Njj(E.remove(g.id,g.userAction))}),r.k0s()}2&h&&r.Y8G("instance",v.$implicit)("placement","top")}function St(h,v){if(1&h){const l=r.RV6();r.j41(0,"nz-notification",7),r.bIt("destroyed",function(g){r.eBV(l);const E=r.XpG();return r.Njj(E.remove(g.id,g.userAction))}),r.k0s()}2&h&&r.Y8G("instance",v.$implicit)("placement","bottom")}let Rt=(()=>{class h extends A{constructor(l){super(l),this.destroyed=new r.bkB}ngOnDestroy(){super.ngOnDestroy(),this.instance.onClick.complete()}onClick(l){this.instance.onClick.next(l)}close(){this.destroy(!0)}get state(){if("enter"!==this.instance.state)return this.instance.state;switch(this.placement){case"topLeft":case"bottomLeft":return"enterLeft";case"topRight":case"bottomRight":default:return"enterRight";case"top":return"enterTop";case"bottom":return"enterBottom"}}static{this.\u0275fac=function(p){return new(p||h)(r.rXU(r.gRc))}}static{this.\u0275cmp=r.VBU({type:h,selectors:[["nz-notification"]],inputs:{instance:"instance",index:"index",placement:"placement"},outputs:{destroyed:"destroyed"},exportAs:["nzNotification"],features:[r.Vt3],decls:7,vars:7,consts:[[1,"ant-notification-notice","ant-notification-notice-closable",3,"click","mouseenter","mouseleave"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-notification-notice-content"],["tabindex","0",1,"ant-notification-notice-close",3,"click"],[1,"ant-notification-notice-close-x"],["nzType","close",1,"ant-notification-close-icon"],["nz-icon","","nzType","check-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-success"],["nz-icon","","nzType","info-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-info"],["nz-icon","","nzType","exclamation-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-warning"],["nz-icon","","nzType","close-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-error"],[1,"ant-notification-notice-message"],[4,"nzStringTemplateOutlet"],[1,"ant-notification-notice-description"],[1,"ant-notification-notice-btn"],[3,"innerHTML"],[3,"nzType"]],template:function(p,g){1&p&&(r.j41(0,"div",0),r.bIt("@notificationMotion.done",function(X){return g.animationStateChanged.next(X)})("click",function(X){return g.onClick(X)})("mouseenter",function(){return g.onEnter()})("mouseleave",function(){return g.onLeave()}),r.DNE(1,f,1,5,null,1)(2,$t,12,6,"div",2),r.j41(3,"a",3),r.bIt("click",function(){return g.close()}),r.j41(4,"span",4),r.DNE(5,Xt,1,1,"ng-container")(6,Wt,1,0,"nz-icon",5),r.k0s()()()),2&p&&(r.Aen((null==g.instance.options?null:g.instance.options.nzStyle)||null),r.HbH((null==g.instance.options?null:g.instance.options.nzClass)||""),r.Y8G("@notificationMotion",g.state),r.R7$(),r.vxM(g.instance.template?1:2),r.R7$(4),r.vxM(null!=g.instance.options&&g.instance.options.nzCloseIcon?5:6))},dependencies:[i.Y3,i.Dn,P.C,P.m,M.T3],encapsulation:2,data:{animation:[I.AJ]}})}}return h})();const J="notification",ut={nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:8,nzPauseOnHover:!0,nzAnimate:!0,nzDirection:"ltr"};let it=(()=>{class h extends dt{constructor(l,p){super(l,p),this.dir="ltr",this.instances=[],this.topLeftInstances=[],this.topRightInstances=[],this.bottomLeftInstances=[],this.bottomRightInstances=[],this.topInstances=[],this.bottomInstances=[];const g=this.nzConfigService.getConfigForComponent(J);this.dir=g?.nzDirection||"ltr"}create(l){const p=this.onCreate(l),g=p.options.nzKey,E=this.instances.find(X=>X.options.nzKey===l.options.nzKey);return g&&E?this.replaceNotification(E,p):(this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,p]),this.readyInstances(),p}onCreate(l){return l.options=this.mergeOptions(l.options),l.onClose=new F.B,l.onClick=new F.B,l}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(J).pipe((0,j.Q)(this.destroy$)).subscribe(()=>{this.updateConfig();const l=this.nzConfigService.getConfigForComponent(J);if(l){const{nzDirection:p}=l;this.dir=p||this.dir}})}updateConfig(){this.config={...ut,...this.config,...this.nzConfigService.getConfigForComponent(J)},this.top=(0,Z.j3)(this.config.nzTop),this.bottom=(0,Z.j3)(this.config.nzBottom),this.cdr.markForCheck()}replaceNotification(l,p){l.title=p.title,l.content=p.content,l.template=p.template,l.type=p.type,l.options=p.options}readyInstances(){const l={topLeft:[],topRight:[],bottomLeft:[],bottomRight:[],top:[],bottom:[]};this.instances.forEach(p=>{switch(p.options.nzPlacement){case"topLeft":l.topLeft.unshift(p);break;case"topRight":default:l.topRight.unshift(p);break;case"bottomLeft":l.bottomLeft.unshift(p);break;case"bottomRight":l.bottomRight.unshift(p);break;case"top":l.top.unshift(p);break;case"bottom":l.bottom.unshift(p)}}),this.topLeftInstances=l.topLeft,this.topRightInstances=l.topRight,this.bottomLeftInstances=l.bottomLeft,this.bottomRightInstances=l.bottomRight,this.topInstances=l.top,this.bottomInstances=l.bottom,this.cdr.detectChanges()}mergeOptions(l){const{nzDuration:p,nzAnimate:g,nzPauseOnHover:E,nzPlacement:X}=this.config;return{nzDuration:p,nzAnimate:g,nzPauseOnHover:E,nzPlacement:X,...l}}static{this.\u0275fac=function(p){return new(p||h)(r.rXU(r.gRc),r.rXU(T.yx))}}static{this.\u0275cmp=r.VBU({type:h,selectors:[["nz-notification-container"]],exportAs:["nzNotificationContainer"],features:[r.Vt3],decls:18,vars:40,consts:[[1,"ant-notification","ant-notification-topLeft"],[3,"instance","placement"],[1,"ant-notification","ant-notification-topRight"],[1,"ant-notification","ant-notification-bottomLeft"],[1,"ant-notification","ant-notification-bottomRight"],[1,"ant-notification","ant-notification-top"],[1,"ant-notification","ant-notification-bottom"],[3,"destroyed","instance","placement"]],template:function(p,g){1&p&&(r.j41(0,"div",0),r.Z7z(1,Ut,1,2,"nz-notification",1,r.fX1),r.k0s(),r.j41(3,"div",2),r.Z7z(4,ft,1,2,"nz-notification",1,r.fX1),r.k0s(),r.j41(6,"div",3),r.Z7z(7,Et,1,2,"nz-notification",1,r.fX1),r.k0s(),r.j41(9,"div",4),r.Z7z(10,Mt,1,2,"nz-notification",1,r.fX1),r.k0s(),r.j41(12,"div",5),r.Z7z(13,Kt,1,2,"nz-notification",1,r.fX1),r.k0s(),r.j41(15,"div",6),r.Z7z(16,St,1,2,"nz-notification",1,r.fX1),r.k0s()),2&p&&(r.xc7("top",g.top)("left","0px"),r.AVh("ant-notification-rtl","rtl"===g.dir),r.R7$(),r.Dyx(g.topLeftInstances),r.R7$(2),r.xc7("top",g.top)("right","0px"),r.AVh("ant-notification-rtl","rtl"===g.dir),r.R7$(),r.Dyx(g.topRightInstances),r.R7$(2),r.xc7("bottom",g.bottom)("left","0px"),r.AVh("ant-notification-rtl","rtl"===g.dir),r.R7$(),r.Dyx(g.bottomLeftInstances),r.R7$(2),r.xc7("bottom",g.bottom)("right","0px"),r.AVh("ant-notification-rtl","rtl"===g.dir),r.R7$(),r.Dyx(g.bottomRightInstances),r.R7$(2),r.xc7("top",g.top)("left","50%")("transform","translateX(-50%)"),r.AVh("ant-notification-rtl","rtl"===g.dir),r.R7$(),r.Dyx(g.topInstances),r.R7$(2),r.xc7("bottom",g.bottom)("left","50%")("transform","translateX(-50%)"),r.AVh("ant-notification-rtl","rtl"===g.dir),r.R7$(),r.Dyx(g.bottomInstances))},dependencies:[Rt],encapsulation:2,changeDetection:0})}}return h})(),wt=0,xt=(()=>{class h extends lt{constructor(l,p,g){super(l,p,g),this.componentPrefix="notification-"}success(l,p,g){return this.create("success",l,p,g)}error(l,p,g){return this.create("error",l,p,g)}info(l,p,g){return this.create("info",l,p,g)}warning(l,p,g){return this.create("warning",l,p,g)}blank(l,p,g){return this.create("blank",l,p,g)}create(l,p,g,E){return this.createInstance({type:l,title:p,content:g},E)}template(l,p){return this.createInstance({template:l},p)}generateMessageId(){return`${this.componentPrefix}-${wt++}`}createInstance(l,p){return this.container=this.withContainer(it),this.container.create({...l,createdAt:new Date,messageId:p?.nzKey||this.generateMessageId(),options:p})}static{this.\u0275fac=function(p){return new(p||h)(r.KVO(tt.HL),r.KVO(et.hJ),r.KVO(r.zZn))}}static{this.\u0275prov=r.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},6368:(ot,H,m)=>{m.d(H,{A:()=>b});const r={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let I;const P=new Uint8Array(16);function i(){if(!I){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");I=crypto.getRandomValues.bind(crypto)}return I(P)}const C=[];for(let y=0;y<256;++y)C.push((y+256).toString(16).slice(1));const b=function T(y,D,S){if(r.randomUUID&&!D&&!y)return r.randomUUID();const L=(y=y||{}).random||(y.rng||i)();if(L[6]=15&L[6]|64,L[8]=63&L[8]|128,D){S=S||0;for(let N=0;N<16;++N)D[S+N]=L[N];return D}return function F(y,D=0){return(C[y[D+0]]+C[y[D+1]]+C[y[D+2]]+C[y[D+3]]+"-"+C[y[D+4]]+C[y[D+5]]+"-"+C[y[D+6]]+C[y[D+7]]+"-"+C[y[D+8]]+C[y[D+9]]+"-"+C[y[D+10]]+C[y[D+11]]+C[y[D+12]]+C[y[D+13]]+C[y[D+14]]+C[y[D+15]]).toLowerCase()}(L)}}}]);